// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`create-redirects should assemble a redirects file 1`] = `
"table redirects {
    \\"/old-url\\", \\"/new-url\\",
\\"/url_that_is/not_pretty\\", \\"/pretty/url\\",
\\"/url_that_is/ugly\\", \\"/not_ugly/url\\",;
  }

table redirect_types {
    \\"/old-url\\", \\"301\\",
\\"/url_that_is/not_pretty\\", \\"201\\",
\\"/url_that_is/ugly\\", \\"200\\",;
  }

sub vcl_recv {
    if(table.lookup(redirects, req.url)) {
      error 777
    }
  }

sub vcl_error {
    if (obj.status === 777) {
      set obj.http.Location = table.lookup(redirects, req.url);
      set obj.status = std.atoi(table.lookup(redirect_types, req.url, \\"302\\"));
      return(deliver);
    }
  }"
`;
